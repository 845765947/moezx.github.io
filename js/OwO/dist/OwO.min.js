function _classCallCheck(f,d){if(!(f instanceof d))throw new TypeError("Cannot call a class as a function");}var _createClass=function(){function f(d,a){for(var c=0;c<a.length;c++){var b=a[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(d,b.key,b)}}return function(d,a,c){return a&&f(d.prototype,a),c&&f(d,c),d}}();!function(){var f=function(){function d(a){var c=this;_classCallCheck(this,d);var b={logo:"OwO\u8868\u60c5",container:document.getElementsByClassName("OwO")[0],target:document.getElementsByTagName("textarea")[0],position:"down",width:"100%",maxHeight:"250px",api:"https://api.anotherhome.net/OwO/OwO.json"},g;for(g in b)b.hasOwnProperty(g)&&!a.hasOwnProperty(g)&&(a[g]=b[g]);this.container=a.container;this.target=a.target;"up"===a.position&&this.container.classList.add("OwO-up");var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&(200<=e.status&&300>e.status||304===e.status?(c.odata=JSON.parse(e.responseText),c.init(a)):console.log("OwO data request was unsuccessful: "+e.status))};e.open("get",a.api,!0);e.send(null)}return _createClass(d,[{key:"init",value:function(a){var c=this;this.area=a.target;this.packages=Object.keys(this.odata);for(var b='\n            <div class="OwO-logo"><span>'+a.logo+'</span></div>\n            <div class="OwO-body" style="margin-top: -47px; width: '+a.width+'">',d=0;d<this.packages.length;d++){for(var b=b+('\n                <ul class="OwO-items OwO-items-'+this.odata[this.packages[d]].type+'" style="max-height: '+(parseInt(a.maxHeight)-53+"px")+';">'),e=this.odata[this.packages[d]].container,f=0;f<e.length;f++)b+='\n                    <li class="OwO-item" title="'+e[f].text+'">'+e[f].icon+"</li>";b+="\n                </ul>"}b+='\n                <div class="OwO-bar">\n                    <ul class="OwO-packages">';for(a=0;a<this.packages.length;a++)b+="\n                        <li><span>"+this.packages[a]+"</span></li>";this.container.innerHTML=b+"\n                    </ul>\n                </div>\n            </div>\n            ";this.logo=this.container.getElementsByClassName("OwO-logo")[0];this.logo.addEventListener("click",function(){c.toggle()});this.container.getElementsByClassName("OwO-body")[0].addEventListener("click",function(a){var b=null;if(a.target.classList.contains("OwO-item")?b=a.target:a.target.parentNode.classList.contains("OwO-item")&&(b=a.target.parentNode),b){a=c.area.selectionEnd;var d=c.area.value;c.area.value=d.slice(0,a)+b.innerHTML+d.slice(a);c.area.focus();c.toggle()}});this.packagesEle=this.container.getElementsByClassName("OwO-packages")[0];b=function(a){!function(b){c.packagesEle.children[a].addEventListener("click",function(){c.tab(b)})}(a)};for(a=0;a<this.packagesEle.children.length;a++)b(a);this.tab(0)}},{key:"toggle",value:function(){this.container.classList.contains("OwO-open")?this.container.classList.remove("OwO-open"):this.container.classList.add("OwO-open")}},{key:"tab",value:function(a){var c=this.container.getElementsByClassName("OwO-items-show")[0];c&&c.classList.remove("OwO-items-show");this.container.getElementsByClassName("OwO-items")[a].classList.add("OwO-items-show");(c=this.container.getElementsByClassName("OwO-package-active")[0])&&c.classList.remove("OwO-package-active");this.packagesEle.getElementsByTagName("li")[a].classList.add("OwO-package-active")}}]),d}();"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=f:window.OwO=f}();
